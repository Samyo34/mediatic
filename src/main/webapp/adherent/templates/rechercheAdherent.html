<div class='row form-group'>
	<form class="searchForm" ng-submit="startSearch()">
		<div class="form-group col-xs-9 row">
			<div class="col-xs-3 col-md-2 label-search">
				<label>Recherche</label>
			</div>
			<div class="input-group col-xs-9 col-md-10">
				<span class="span-accurate-search input-group-btn">
					<a ng-href="" class="btn btn-info" ng-click="accurateSearch()">
						<span class="glyphicon" ng-class="{'glyphicon-minus' : accurate , 'glyphicon-plus' : !accurate}"></span>
					</a>
				</span>
				<div ng-show="accurate">
				<div class="input-group-btn">
					<input type="text" class="form-control" ng-model="search.id"
						placeholder="Id">
				</div>
				<div class="input-group-btn">
					<input type="text" class="form-control" ng-model="search.nom"
						placeholder="Nom">
				</div>
				<div class="input-group-btn">
					<input type="text" class="form-control" ng-model="search.prenom"
						placeholder="Prénom">
				</div>
				<div class="input-group-btn">
					<input type="text" class="form-control" ng-model="search.email"
						placeholder="Email">
				</div>
				</div>
				<div ng-show="!accurate" class="input-group-btn">
					<input type="text" class="form-control" ng-model="search.nomOuPrenom"
						placeholder="Nom/Prénom">
				</div>
				<span class="input-group-btn">
					<button class="btn btn-primary" type="submit">
						<span class="glyphicon glyphicon-search"></span>
					</button>
				</span>
			</div>
		</div>
		<a href='#/adherent' class="btn btn-success col-xs-2 col-xs-offset-1">Nouveau</a>
	</form>
</div>

<div class='row form-group'>
	<table class="table table-bordered">
		<thead>
			<tr>
				<th>
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-order' : !sortedIdAsc, 'glyphicon-sort-by-order-alt' : sortedIdAsc}"
						ng-click="sortId()"></button>
				</th>
				<th>Nom
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-alphabet' : !sortedNomAsc, 'glyphicon-sort-by-alphabet-alt' : sortedNomAsc}"
						ng-click="sortNom()"></button>
				</th>
				<th>Prénom
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-alphabet' : !sortedPrenom, 'glyphicon-sort-by-alphabet-alt' : sortedPrenom}"
						ng-click="sortPrenom()"></button>
				</th>
				<th class="hidden-xs">Naissance
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-order' : !sortedNaissanceAsc, 'glyphicon-sort-by-order-alt' : sortedNaissanceAsc}"
						ng-click="sortNaissance()"></button>
				</th>
				<th>Cotisation
					<button
						class="btn btn-sort btn-xs btn-info glyphicon glyphicon-sort"
						ng-click="sortCotisation()"></button>
				</th>
				<th class="hidden-xs">Médias
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-order' : !sortedPossessionsAsc, 'glyphicon-sort-by-order-alt' : sortedPossessionsAsc}"
						ng-click="sortPossessions()"></button>
				</th>
				<th>Email
					<button class="btn btn-sort btn-xs btn-info glyphicon"
						ng-class="{'glyphicon-sort-by-alphabet' : !sortedEmailAsc, 'glyphicon-sort-by-alphabet-alt' : sortedEmailAsc}"
						ng-click="sortEmail()"></button>
				</th>
				<th>Détails</th>
			</tr>
		</thead>
		<tbody>
			<tr
				ng-repeat="adherent in adherents 
				| orderBy: sortedIdAsc && 'id' 
				| orderBy: sortedIdDesc && '-id' 
				| orderBy: sortedNomAsc && 'nom' 
				| orderBy: sortedNomDesc && '-nom' 
				| orderBy: sortedPrenomAsc && 'prenom' 
				| orderBy: sortedPrenomDesc && '-prenom' 
				| orderBy: sortedNaissanceAsc && 'date_naissance' 
				| orderBy: sortedNaissanceDesc && '-date_naissance' 
				| orderBy: sortedCotisationAsc && 'cotisation.fin' 
				| orderBy: sortedCotisationDesc && '-cotisation.fin' 
				| orderBy: sortedPossessionsAsc && 'nombre_media' 
				| orderBy: sortedPossessionsDesc && '-nombre_media' 
				| orderBy: sortedEmailAsc && 'email' 
				| orderBy: sortedEmailDesc && '-email' 
				| limitTo:sizeArrayAd">
				<td>#{{ adherent.id }}</td>
				<td ng-bind="adherent.nom"></td>
				<td ng-bind="adherent.prenom"></td>
				<td class="hidden-xs" ng-bind="adherent.date_naissance | date:'dd-MM-yyyy'"></td>
				<td class="icon-tab"><span class="glyphicon"
					ng-class="{ 'glyphicon-ok icon-success':adherent.cotisation.fin >= (currentDate | date:'yyyy-MM-dd'),
					'glyphicon-remove icon-error':!(adherent.cotisation.fin >= (currentDate | date:'yyyy-MM-dd'))}">
				</span></td>
				<td class="hidden-xs" ng-bind="adherent.nombre_media"></td>
				<td ng-bind="adherent.email"></td>
				<td class="btn-detail"><a href="#/adherent/{{adherent.id}}">
						<button type="button" class="btn btn-info">
							<span class="glyphicon glyphicon-new-window" aria-hidden="true"></span>
						</button>
				</a></td>
			</tr>
		</tbody>
	</table>
	<input type="submit" class="btn btn-info col-xs-offset-11"
		ng-click="addSize()" ng-disabled="sizeMaxAd" value="Voir plus" />
</div>